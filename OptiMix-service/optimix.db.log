/*C12*/SET SCHEMA PUBLIC
alter table activity_log drop constraint FKfi769xxqm5j6ixrmnslj213ix
alter table analysis drop constraint FKthiu9q6f2qvsksb9en0i8xrxr
alter table analysis_log drop constraint FKbkt7d31iws4tflkyvlngx3kn4
alter table analysis_log drop constraint FK8u4835rg5lbeqjt7h573t65lr
alter table recipe drop constraint FKtmsjlinvjl8yv7ieja5npo2lf
alter table recipe_log drop constraint FK3r51a8n3iovcgkvasgbtn1pyr
alter table recipe_log drop constraint FKpbbndjore2fc6tya63qw34xot
drop table activity_log if exists
drop table analysis if exists
drop table analysis_log if exists
drop table person if exists
drop table raw if exists
drop table recipe if exists
drop table recipe_log if exists
create table activity_log (id_activity_log bigint generated by default as identity (start with 1), activity varchar(255), id_person bigint, primary key (id_activity_log))
create table analysis (id_analysis bigint generated by default as identity (start with 1), fat double, proteins double, water double, id_raw bigint, primary key (id_analysis))
create table analysis_log (id_analysis_log bigint generated by default as identity (start with 1), input_date timestamp, id_analysis bigint, id_person bigint, primary key (id_analysis_log))
create table person (id_person bigint generated by default as identity (start with 1), authority_level bigint, name varchar(255), password varchar(255), surname varchar(255), username varchar(255), primary key (id_person))
create table raw (id_raw bigint generated by default as identity (start with 1), expiration_date timestamp, material_code varchar(255), material_mass bigint, material_name varchar(255), material_series varchar(255), measure varchar(255), primary key (id_raw))
create table recipe (id_recipe bigint generated by default as identity (start with 1), recipe_mass double, id_raw bigint, primary key (id_recipe))
create table recipe_log (id_recipe_log bigint generated by default as identity (start with 1), input_date timestamp, id_recipe bigint, id_person bigint, primary key (id_recipe_log))
alter table activity_log add constraint FKfi769xxqm5j6ixrmnslj213ix foreign key (id_person) references person
alter table analysis add constraint FKthiu9q6f2qvsksb9en0i8xrxr foreign key (id_raw) references raw
alter table analysis_log add constraint FKbkt7d31iws4tflkyvlngx3kn4 foreign key (id_analysis) references analysis
alter table analysis_log add constraint FK8u4835rg5lbeqjt7h573t65lr foreign key (id_person) references person
alter table recipe add constraint FKtmsjlinvjl8yv7ieja5npo2lf foreign key (id_raw) references raw
alter table recipe_log add constraint FK3r51a8n3iovcgkvasgbtn1pyr foreign key (id_recipe) references recipe
alter table recipe_log add constraint FKpbbndjore2fc6tya63qw34xot foreign key (id_person) references person
